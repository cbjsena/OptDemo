{% extends "core/base.html" %}
{% load static %}

{% block title %}VRP Model Definition{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'core/css/instruction.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/model.definition.css' %}">
    <style>
    .summary-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        font-size: 0.95em;
    }
    .summary-table th, .summary-table td {
        border: 1px solid #dee2e6;
        padding: 12px;
        text-align: left;
        vertical-align: top;
    }
    .summary-table th {
        background-color: #343a40;
        color: white;
        font-weight: bold;
    }
    .summary-table tr:nth-child(even) {
        background-color: #f8f9fa;
    }
    .summary-table .math-block {
        margin: 5px 0;
        padding: 5px;
        font-size: 1em;
        text-align: left;
    }
    </style>
{% endblock %}

{% block content %}
<div class="container-fluid introduction-content">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h2 class="h2">μ°¨λ‰ κ²½λ΅ μµμ ν™” λ¨λΈ μ •μ πβ±οΈπ“</h2>
    </div>

    <p class="lead">μ°¨λ‰ κ²½λ΅ λ¬Έμ (VRP)λ” λΉ„μ¦λ‹μ¤ μ”κµ¬μ‚¬ν•­μ— λ”°λΌ λ‹¤μ–‘ν• λ©μ κ³Ό μ μ•½ μ΅°κ±΄μ„ κ°€μ§„ λ¨λΈλ΅ ν™•μ¥λ  μ μμµλ‹λ‹¤. μ—¬κΈ°μ„λ” κ°€μ¥ κΈ°λ³Έμ μΈ VRP λ¨λΈλ¶€ν„° μ‹μ‘ν•μ—¬ μ—¬λ¬ μ£Όμ” λ³€ν• λ¨λΈλ“¤μ„ μ†κ°ν•©λ‹λ‹¤.</p>

    <h3>1. κΈ°λ³Έ VRP λ¨λΈ (μ΄ μ΄λ™ κ±°λ¦¬ μµμ†ν™”)</h3>
    <p>κ°€μ¥ κ³ μ „μ μΈ ν•νƒλ΅, λ¨λ“  μ μ•½μ΅°κ±΄μ„ λ§μ΅±ν•λ©° μ΄ μ΄λ™ κ±°λ¦¬λ¥Ό μµμ†ν™”ν•λ” κ²ƒμ„ λ©ν‘λ΅ ν•©λ‹λ‹¤.</p>
    <div class="highlight-box">
        <p><strong>- μ§‘ν•© λ° νλΌλ―Έν„°:</strong> \(K\)(μ°¨λ‰), \(N_0\)(μ „μ²΄ λ…Έλ“), \(d_{ij}\)(λ…Έλ“ κ°„ κ±°λ¦¬)</p>
        <p><strong>- κ²°μ • λ³€μ:</strong> \(x_{ijk}\) (μ°¨λ‰ kκ°€ iμ—μ„ jλ΅ μ΄λ™ μ‹ 1)</p>
        <p><strong>- λ©μ  ν•¨μ:</strong></p>
        <div class="math-block text-center p-2 my-2 bg-white rounded">
            $$ \min \sum_{k \in K} \sum_{i \in N_0} \sum_{j \in N_0, i \neq j} d_{ij} \cdot x_{ijk} $$
        </div>
        <p><strong>- ν•µμ‹¬ μ μ•½ μ΅°κ±΄:</strong> κ³ κ° λ°©λ¬Έ, μ°¨κ³ μ§€ μ¶λ°/λ„μ°©, μ°¨λ‰ νλ¦„ λ³΄μ΅΄, λ¶€λ¶„ κ²½λ΅ μ κ±° λ“±μ΄ ν¬ν•¨λ©λ‹λ‹¤.</p>
    </div>

    <h3>2. μ£Όμ” VRP λ³€ν• λ¨λΈ μƒμ„Έ μ„¤λ…</h3>
    <p>κΈ°λ³Έ λ¨λΈμ— μƒλ΅μ΄ μ μ•½μ΄λ‚ λ‹¤λ¥Έ λ©μ  ν•¨μλ¥Ό μ μ©ν•μ—¬ ν„μ‹¤μ λ³µμ΅ν• λ¬Έμ λ“¤μ„ ν•΄κ²°ν•  μ μμµλ‹λ‹¤.<br>
    λ‹¤λ¥Έ νμ΄μ§€μ—μ„ μ†κ°ν•λ” CVRPμ™€ PDP λ¬Έμ  μ΄μ™Έ λ³€ν• λ¨λΈλ“¤μ„ μ†κ°ν•©λ‹λ‹¤. </p>

    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h4 class="card-title mt-4">1. μ‚¬μ© μ°¨λ‰ μ μµμ†ν™”</h4>
            <p>κ°€λ¥ν• ν• μ μ€ μμ μ°¨λ‰μ„ μ‚¬μ©ν•μ—¬ λ¨λ“  κ³ κ°μ„ μ„λΉ„μ¤ν•λ” κ²ƒμ„ λ©ν‘λ΅ ν•©λ‹λ‹¤. μ°¨λ‰ μ΄μ κ³ μ •λΉ„λ¥Ό μ κ°ν•λ” λ° ν¨κ³Όμ μ…λ‹λ‹¤.</p>
            <p><strong>- μ¶”κ°€ λ³€μ:</strong> \(y_k\) (μ°¨λ‰ \( k \) μ‚¬μ© μ‹ 1)</p>
            <p><strong>- λ©μ  ν•¨μ (μ°¨λ‰ μ μµμ†ν™”):</strong></p>
            <div class="math-block">$$ \min \sum_{k \in K} y_k $$</div>
            <p><strong>κ΄€λ ¨ μ μ•½μ‹ (μ°¨λ‰ μ‚¬μ© μ—¬λ¶€ μ—°κ²°):</strong></p>
            <div class="math-block">
                $$\sum_{i \in N_0} \sum_{j \in N_0, j \ne i} x_{ijk} \leq BigM \cdot y_k \quad \forall k \in K$$
            </div>
            <p>&rarr; μ°¨λ‰ \( k \) κ°€ μ–΄λ–¤ κ²½λ΅λΌλ„ μ΄ν–‰ν•λ©΄ ( \( x_{ijk} \) μ¤‘ ν•λ‚λΌλ„ 1μ΄λ©΄) \( y_{k} = 1 \) λμ–΄μ•Ό ν•©λ‹λ‹¤.</p>
            <hr>

            <h4 class="card-title mt-4">2. μ΄μ†΅ λΉ„μ© μµμ†ν™” (κ°€μ¤‘ν•©)</h4>
            <p>μ΄λ™ κ±°λ¦¬, μ΄ν–‰ μ‹κ°„, μ°¨λ‰ κ³ μ •λΉ„ λ“± λ‹¤μ–‘ν• λΉ„μ© μ”μ†λ¥Ό μΆ…ν•©μ μΌλ΅ κ³ λ ¤ν•μ—¬ μ΄λΉ„μ©μ„ μµμ†ν™”ν•©λ‹λ‹¤.</p>
            <p><strong>- μ¶”κ°€ νλΌλ―Έν„°:</strong> \(c_d\)(λ‹¨μ„ κ±°λ¦¬λ‹Ή λΉ„μ©), \(c_t\)(λ‹¨μ„ μ‹κ°„λ‹Ή λΉ„μ©), \(c_f\)(μ°¨λ‰ κ³ μ •λΉ„)</p>
            <p><strong>- μ¶”κ°€ λ³€μ:</strong> \(y_k\) (μ°¨λ‰ \( k \) μ‚¬μ© μ‹ 1)</p>
            <p><strong>- λ©μ  ν•¨μ (μ΄μ†΅ λΉ„μ© μµμ†ν™”):</strong></p>
            <div class="math-block">$$ \min \left( \sum_{k,i,j} (c_d d_{ij} + c_t t_{ij}) x_{ijk} + \sum_{k} c_f y_k \right) $$</div>
            <hr>

            <h4 class="card-title mt-4">3. Makespan μµμ†ν™”</h4>
            <p>λ¨λ“  μ°¨λ‰μ μ „μ²΄ μ΄ν–‰μ΄ λλ‚λ” μ‹μ μ„ μµμ†ν™”ν•λ” κ²ƒμ„ λ©ν‘λ΅ ν•©λ‹λ‹¤. μ΄λ™ μ‹κ°„κ³Ό μ„λΉ„μ¤ μ‹κ°„μ„ ν•¨κ» κ³ λ ¤ν•©λ‹λ‹¤.</p>
            <p><strong>- μ¶”κ°€ νλΌλ―Έν„°:</strong> \(t_{ij}\)(λ…Έλ“κ°„ μ΄λ™ μ‹κ°„), \(s_{i}\) (λ…Έλ“ \(i\)μ—μ„μ μ„λΉ„μ¤ μ‹κ°„)
            <p><strong>- μ¶”κ°€ λ³€μ:</strong>
            <ul>
                <li> <strong>\( u_{ik} \)</strong> : μ°¨λ‰ \( k \) κ°€ λ…Έλ“ \( i \) μ—μ„ μ„λΉ„μ¤λ¥Ό μ‹μ‘ν•λ” μ‹κ°„</li>
                <li> <strong>\( L \)</strong> : λ¨λ“  μ°¨λ‰μ μ„λΉ„μ¤ μΆ…λ£(λλ” λ³µκ·€) μ‹κ°„ μ¤‘ κ°€μ¥ λ¦μ€ μ‹κ°„</li>
            </ul>
            <p><strong>- λ©μ  ν•¨μ:</strong></p>
            <div class="math-block">$$ \min L $$</div>
            <p><strong>- μ¶”κ°€ μ μ•½ μ΅°κ±΄:</strong></p>
            <div class="math-block">
                $$ u_{ik} + s_i + t_{i0} \cdot x_{i0k} \leq L \quad \forall i \in N, k \in K $$
            </div>
            <hr>

            <h4 class="card-title mt-4">4. VRPTW (Vehicle Routing Problem with Time Windows)</h4>
            <p>Makespan μµμ†ν™” λ¬Έμ μ— κ³ κ°μ΄ μ„λΉ„μ¤λ¥Ό λ°›μ„ μ μλ” μ‹κ°„(μ: μ¤μ „ 9μ‹~11μ‹) μ΅°κ±΄μ΄ μ¶”κ°€λλ” κ²½μ°μ…λ‹λ‹¤. <br>
            Makespan μµμ†ν™”μ— λ‹¤μ ν•­λ©λ“¤μ΄ μ¶”κ°€ λ©λ‹λ‹¤.</p>
            <p><strong>- μ¶”κ°€ νλΌλ―Έν„°:</strong> \(e_i\)(μ„λΉ„μ¤ κ°€λ¥ν• μµμ΄ λ„μ°© μ‹κ°„), \(l_i\)(μ„λΉ„μ¤ κ°€λ¥ν• μµλ€ ν—μ© μ‹κ°„)</p>
            <ul class="math-block"><strong>μ¶”κ°€ μ μ•½ μ΅°κ±΄:</strong></ul>
                <ul>
                <li><strong>μ°¨λ‰λ³„ μµμΆ… μ‘μ—… μ™„λ£ μ‹κ°„</strong>
                    <div class="math-block">
                        $$ u_{ik} + s_i + t_{i0} \cdot x_{i0k} \leq L \quad \forall i \in N, k \in K $$
                    </div>
                </li>
                <li><strong>κ³ κ° μ„λΉ„μ¤ μ‹κ°„ μ°½ λ§μ΅±</strong>
                    <div class="math-block">
                        $$ e_i \leq u_{ik} \leq l_i \quad \forall i \in N, k \in K $$
                    </div>
                </li>
                <li><strong>μ‹κ°„ νλ¦„ μ¶”μ </strong>
                    <div class="math-block">
                        $$ u_{jk} \geq u_{ik} + s_i + t_{ij} - BigM \cdot (1 - x_{ijk}) \quad \forall i, j \in N, k \in K $$
                    </div>
                </li>
            </ul>
            <hr>
        </div>
    </div>

    <h3>3. μΆ…ν•© μ •λ¦¬</h3>
    <div class="table-responsive">
        <table class="summary-table">
            <thead class="thead-dark">
                <tr>
                    <th>μ ν•</th>
                    <th>ν•µμ‹¬ λ©ν‘ / μ μ•½</th>
                    <th>μ£Όμ” μ¶”κ°€ νλΌλ―Έν„°/λ³€μ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>VRP (κΈ°λ³Έ)</strong><br><small>μ΄ κ±°λ¦¬ μµμ†ν™”</small></td>
                    <td><div class="math-block">$$\min \sum_{k,i,j} d_{ij} x_{ijk}$$</div></td>
                    <td>-</td>
                </tr>
                <tr>
                    <td><strong>CVRP</strong><br><small>μ©λ‰ μ μ•½</small></td>
                    <td><div class="math-block">$$\min \sum_{k,i,j} d_{ij} x_{ijk}$$</div>
                        <p>μ°¨λ‰ μ©λ‰ μ μ•½</p>$$\sum_{i \in N} q_i \cdot y_{ik} \le Q_k$$
                    </td>
                    <td>\(q_i\) (μμ”λ‰), \(Q_k\) (μ°¨λ‰ μ©λ‰)</td>
                </tr>
                 <tr>
                    <td><strong>PDP</strong><br><small>μκ±° λ° λ°°μ†΅</small></td>
                    <td><div class="math-block">$$\min \sum_{k,i,j} d_{ij} x_{ijk}$$</div>
                       <p>μ„ ν–‰ μ μ•½ (μκ±° ν›„ λ°°μ†΅)</p>$$ u_{d_r k} \ge u_{p_r k} + s_{p_r} + t_{p_r d_r}$$
                    </td>
                    <td>\(p_r, d_r\) (μκ±°/λ°°μ†΅ μ), \(u_{ik}\) (μ‹κ°„)</td>
                </tr>
                <tr>
                    <td><strong>μ°¨λ‰ μ μµμ†ν™”</strong></td>
                    <td><div class="math-block">$$\min \sum_{k \in K} y_k$$</div>
                        <p>μ°¨λ‰ μ‚¬μ© μ—¬λ¶€ μ μ•½</p>$$\sum_{i \in N_0} \sum_{j \in N_0, j \ne i} x_{ijk} \leq BigM \cdot y_k \quad \forall k \in K$$
                    </td>
                    <td>\(y_k\) (μ°¨λ‰ μ‚¬μ© μ—¬λ¶€)</td>
                </tr>
                <tr>
                    <td><strong>μ΄μ†΅ λΉ„μ© μµμ†ν™” (κ°€μ¤‘ν•©)</strong></td>
                    <td><div class="math-block">$$ \min \left( \sum_{k,i,j} (c_d d_{ij} + c_t t_{ij}) x_{ijk} + \sum_{k} c_f y_k \right) $$</div>
                    </td>
                    <td>\(c_d, c_t, c_f\) (κ°μΆ… λΉ„μ© κ³„μ)</td>
                </tr>


                <tr>
                    <td><strong>Makespan μµμ†ν™”</strong></td>
                    <td><div class="math-block">$$\min L $$</div>
                        <p>μ‘μ—… μ™„λ£ μ‹κ°„ μ μ•½</p>$$ u_{ik} + s_i + t_{i0} \cdot x_{i0k} \leq L \quad \forall i \in N, k \in K $$
                    </td>
                    <td>\(e_i, l_i\) (μ‹κ°„ μ°½), \(u_ik\) (μ‹κ°„ λ³€μ)</td>
                </tr>

                <tr>
                    <td><strong>VRPTW</strong><br><small>μ‹κ°„ μ°½ μ μ•½</small></td>
                    <td><div class="math-block">$$\min \sum_{k,i,j} d_{ij} x_{ijk}$$</div>
                        <p>μ‹κ°„ νλ¦„ μ¶”μ </p>$$ u_{jk} \geq u_{ik} + s_i + t_{ij} - BigM \cdot (1 - x_{ijk})$$
                    </td>
                    <td>\(e_i, l_i\) (μ‹κ°„ μ°½), \(u_ik\) (μ‹κ°„ λ³€μ)</td>
                </tr>

            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
{% endblock %}