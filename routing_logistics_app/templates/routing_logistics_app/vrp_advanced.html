{% extends "core/base.html" %}
{% load static %}

{% block title %}VRP Model Definition{% endblock %}

{% block styles %}
<style>
    .model-definition-content { /* ì´ í˜ì´ì§€ ì „ìš© ì»¨í…ì¸  ë˜í¼ */
        line-height: 1.7;
        font-size: 1.03rem;
        color: #333;
    }
    .model-definition-content h1 {
        text-align: center;
        color: #2c3e50; /* OptDemo í…Œë§ˆì™€ ìœ ì‚¬í•˜ê²Œ */
        margin-bottom: 1.5rem;
        border-bottom: 2px solid #007bff; /* OptDemo í…Œë§ˆì™€ ìœ ì‚¬í•˜ê²Œ */
        padding-bottom: 0.5rem;
    }
    .model-definition-content h2 {
        color: #0056b3; /* ì†Œì œëª© ìƒ‰ìƒ */
        margin-top: 2rem;
        margin-bottom: 1rem;
        padding-bottom: 0.3rem;
        border-bottom: 1px solid #0056b3;
    }
    .model-definition-content h3 {
        color: #17a2b8; /* ë” ì‘ì€ ì†Œì œëª© ìƒ‰ìƒ */
        margin-top: 1.5rem;
        margin-bottom: 0.75rem;
    }
    .model-definition-content h4 {
        margin-top: 1.5rem;
        margin-bottom: 0.75rem;
        color: #0056b3;
        padding-bottom: 0.25rem;
        border-bottom: 2px solid #007bff;
    }
    .model-definition-content p,
    .model-definition-content li {
        margin-bottom: 10px;
    }
    .model-definition-content ul {
        list-style-type: none; /* ê¸°ë³¸ ëª©ë¡ ìŠ¤íƒ€ì¼ ì œê±° (í•„ìš”ì‹œ disc ë“±ìœ¼ë¡œ ë³€ê²½) */
        padding-left: 0;
    }
    .model-definition-content ul ul { /* ì¤‘ì²© ëª©ë¡ì€ ë“¤ì—¬ì“°ê¸° */
        padding-left: 20px;
        list-style-type: circle;
    }
    .model-definition-content code.inline-code { /* ì¸ë¼ì¸ ì½”ë“œ ìŠ¤íƒ€ì¼ */
        background-color: #e9ecef;
        padding: 2px 5px;
        border-radius: 4px;
        font-family: 'SFMono-Regular', Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 0.9em;
    }
    .math-block { /* MathJaxë¡œ ë Œë”ë§ë  ë¸”ë¡ ìˆ˜ì‹ */
        display: block; /* í˜¹ì€ text-align: center; */
        margin-top: 10px;
        margin-bottom: 20px; /* ìˆ˜ì‹ ê°„ ê°„ê²© */
        font-size: 1.1em;
        padding: 10px;
        background-color: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 4px;
        overflow-x: auto; /* ìˆ˜ì‹ì´ ê¸¸ ê²½ìš° ê°€ë¡œ ìŠ¤í¬ë¡¤ */
    }
    .objective-section { /* ê° ëª©í‘œ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        margin-bottom: 30px;
        padding: 20px;
        border: 1px solid #d1d9e0;
        border-radius: 8px;
        background-color: #f9f9f9;
        box-shadow: 0 1px 3px rgba(0,0,0,0.04);
    }
    .objective-section h3 {
        margin-top: 0; /* ì„¹ì…˜ ë‚´ ì²« h3ì˜ ìƒë‹¨ ë§ˆì§„ ì œê±° */
        border-bottom: 1px dashed #17a2b8;
        padding-bottom: 8px;
    }
    .summary-table { /* ì¢…í•© ì •ë¦¬ í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        font-size: 0.95em;
    }
    .summary-table th, .summary-table td {
        border: 1px solid #c5d0da;
        padding: 10px 12px;
        text-align: left;
        vertical-align: top; /* ìˆ˜ì‹ì´ ê¸¸ ê²½ìš° ìƒë‹¨ ì •ë ¬ */
    }
    .summary-table th {
        background-color: #007bff; /* OptDemo í…Œë§ˆì™€ ìœ ì‚¬í•˜ê²Œ */
        color: white;
        font-weight: bold;
    }
    .summary-table tr:nth-child(even) {
        background-color: #f2f9ff;
    }
    .summary-table .math-block { /* í…Œì´ë¸” ë‚´ ìˆ˜ì‹ ë¸”ë¡ ìŠ¤íƒ€ì¼ ì•½ê°„ ì¡°ì • */
        margin-top: 5px;
        margin-bottom: 5px;
        padding: 5px;
        font-size: 1em;
        text-align: left;
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid model-definition-content">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">ì°¨ëŸ‰ ê²½ë¡œ ìµœì í™” ëª¨ë¸ ì •ì˜ ğŸššâ±ï¸ğŸ“</h1>
    </div>
    <p>VRPëŠ” ë‹¤ì–‘í•œ ë³€í˜•ì´ ì¡´ì¬í•˜ì§€ë§Œ, ê¸°ë³¸ì ì¸ í˜•íƒœëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì •í˜•í™”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ê·¸ë˜í”„ ì´ë¡  ê¸°ë°˜):</p>
    <h4>ğŸ“Œ ì…ë ¥ ë°ì´í„°</h4>
    <ul>
        <li><strong>\( G=(V, E) \)</strong>: ë…¸ë“œ(ì •ì ) ì§‘í•© \( V \)ì™€ ê°„ì„ (ì—£ì§€) ì§‘í•© \( E \)ë¡œ êµ¬ì„±ëœ ê·¸ë˜í”„</li>
        <li><strong>\( V = \{0\} \cup C \)</strong>: ë…¸ë“œ 0ì€ ì°¨ê³ ì§€(depot), \(C=\{1, 2, ..., n\}\)ì€ ê³ ê° ì§‘í•©.</li>
        <li><strong>\( d_{ij} \)</strong>: ë…¸ë“œ \( i \)ì—ì„œ \( j \)ê¹Œì§€ì˜ ê±°ë¦¬ (ë˜ëŠ” ì‹œê°„, ë¹„ìš©), ê°„ì„  \( (i, j) \in E \)ì— ë¶€ì—¬ëœ ê°€ì¤‘ì¹˜ </li>
        <li><strong>\( K \)</strong>: ì‚¬ìš© ê°€ëŠ¥í•œ ì°¨ëŸ‰ì˜ ì§‘í•© (ë˜ëŠ” ì´ ì°¨ëŸ‰ ìˆ˜)</li>
        <li><strong>(ì„ íƒì ) \( Q_k \)</strong>: ì°¨ëŸ‰ \( k \)ì˜ ìš©ëŸ‰ (ë˜ëŠ” ëª¨ë“  ì°¨ëŸ‰ ê³µí†µ ìš©ëŸ‰ \( Q \)), (CVRPì˜ ê²½ìš°)</li>
        <li><strong>(ì„ íƒì ) \( q_i \)</strong>: ê³ ê° \( i \)ì˜ ìˆ˜ìš”ëŸ‰ (ìš©ëŸ‰ ì œì•½ VRP - CVRPì˜ ê²½ìš°)
        <li><strong>(ì„ íƒì ) \( t_{ij} \)</strong>: ë…¸ë“œ \( i \)ì—ì„œ \( j \)ê¹Œì§€ì˜ ì´ë™ ì‹œê°„</li>
        <li><strong>(ì„ íƒì ) \( T_i \)</strong>: ì°¨ëŸ‰ì´ ë…¸ë“œ \( i \)ì— ë„ì°©í•˜ëŠ” ì‹œê°„</li>
        <li><strong>(ì„ íƒì ) \( [e_i, l_i] \)</strong>: ë…¸ë“œ\( i \)ì˜ ì‹œê°„ ì°½ (ê°€ì¥ ë¹ ë¥¸ ì„œë¹„ìŠ¤ ì‹œì‘ ì‹œê°„, ê°€ì¥ ëŠ¦ì€ ì„œë¹„ìŠ¤ ì‹œì‘ ì‹œê°„), (VRPTWì˜ ê²½ìš°)</li>
    </ul>
    <h4>ğŸ“Œ ê²°ì • ë³€ìˆ˜</h4>
    <ul>
        <li> <strong>\( x_{ijk} \)</strong>: ì°¨ëŸ‰ \( k \)ê°€ ë…¸ë“œ \( i \)ì—ì„œ \( j \)ë¡œ ì´ë™ í•˜ë©´ 1, ì•„ë‹ˆë©´ 0</li>
        <li> <strong>(ì„ íƒì ) \( y_{ik} \)</strong>: ì°¨ëŸ‰ \( k \)ê°€ ê³ ê° \( i \)ë¥¼ ë°©ë¬¸í•˜ë©´  1, ì•„ë‹ˆë©´ 0 (ì¼ë¶€ ëª¨ë¸ì—ì„œ ì‚¬ìš©)</li>
        <li> <strong>(ì„ íƒì ) \( u_{ik} \)</strong>: ì°¨ëŸ‰ \( k \)ê°€ ê³ ê° \( i \)ë¥¼ ë°©ë¬¸í•˜ëŠ” ìˆœì„œ ë˜ëŠ” ëˆ„ì  ìˆ˜ìš”ëŸ‰ (ë¶€ë¶„ ê²½ë¡œ ì œê±° ë˜ëŠ” ìš©ëŸ‰ ì œì•½ìš©)</li>
    </ul>
    <hr>

    <h4>ğŸ“Œ ê¸°ë³¸ ìˆ˜í•™ ëª¨ë¸</h4>
    <p>VRPëŠ” ë‹¤ì–‘í•œ ë³€í˜•ì´ ì¡´ì¬í•˜ì§€ë§Œ, ê¸°ë³¸ì ì¸ í˜•íƒœëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì •í˜•í™”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ê·¸ë˜í”„ ì´ë¡  ê¸°ë°˜):</p>
    <ul>
        <li><strong>ëª©í‘œ í•¨ìˆ˜ (ì˜ˆ: ì´ ê±°ë¦¬ ìµœì†Œí™”):</strong>
            <div class="math-block">
                $$\min \sum_{k \in K} \sum_{(i,j) \in E} d_{ij} \cdot x_{ijk}$$
            </div>
        </li>
        <li>
            <strong>ì£¼ìš” ì œì•½ ì¡°ê±´ (ì˜ˆì‹œ):</strong>
            <ul>
                <li>ê° ê³ ê°ì€ ì •í™•íˆ í•œ ë²ˆ, í•˜ë‚˜ì˜ ì°¨ëŸ‰ì— ì˜í•´ ë°©ë¬¸ë˜ì–´ì•¼ í•©ë‹ˆë‹¤:
                    <div class="math-block">$$\sum_{k \in K} \sum_{j \in V, j \ne i} x_{jik} = 1, \quad \forall i \in C \quad (\text{ê³ ê° } i\text{ë¡œ ë“¤ì–´ì˜¤ëŠ” ê°„ì„ })$$</div>
                    <div class="math-block">$$\sum_{k \in K} \sum_{i \in V, i \ne j} x_{ijk} = 1, \quad \forall j \in C \quad (\text{ê³ ê° } j\text{ì—ì„œ ë‚˜ê°€ëŠ” ê°„ì„  - í‘œí˜„ ìˆ˜ì •})$$</div>
                    <small>(ì°¸ê³ : ìœ„ ë‘ ì œì•½ì‹ì€ ë™ì¼í•œ ì˜ë¯¸ë¥¼ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ í‘œí˜„í•œ ê²ƒì´ê±°ë‚˜, ë¬¸ì œì— ë”°ë¼ ë‘˜ ë‹¤ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œëŠ” "ê° ê³ ê° iì— ëŒ€í•´, ië¡œ ë“¤ì–´ì˜¤ê±°ë‚˜ iì—ì„œ ë‚˜ê°€ëŠ” ì•„í¬ì˜ í•©ì´ (í•´ë‹¹ ê³ ê°ì„ ë°©ë¬¸í•˜ëŠ” ì°¨ëŸ‰ kì— ëŒ€í•´) 1ì´ë‹¤" í˜•íƒœë¡œ í‘œí˜„ë©ë‹ˆë‹¤. ë” ì •í™•íˆëŠ”, $\sum_{k \in K} y_{ik} = 1$ ê³¼ $y_{ik}$ë¥¼ $x_{ijk}$ì™€ ì—°ê²°í•˜ëŠ” ì œì•½ì´ ì‚¬ìš©ë˜ê¸°ë„ í•©ë‹ˆë‹¤.)</small>
                </li>
                <li>
                    ê° ì°¨ëŸ‰ì€ ì°¨ê³ ì§€(ë…¸ë“œ 0)ì—ì„œ ì¶œë°œí•´ì•¼ í•©ë‹ˆë‹¤ (ì‚¬ìš©ë  ê²½ìš°):
                    <div class="math-block">$$\sum_{j \in C} x_{0jk} \le 1, \quad \forall k \in K$$</div>
                    (ë§Œì•½ ì°¨ëŸ‰ $k$ê°€ ì‚¬ìš©ëœë‹¤ë©´($y_k=1$), ì¢Œë³€ì€ 1ì´ ë©ë‹ˆë‹¤.)
                </li>
                <li>
                    ê° ì°¨ëŸ‰ì€ ì°¨ê³ ì§€ë¡œ ëŒì•„ì™€ì•¼ í•©ë‹ˆë‹¤ (ë§Œì•½ ì‚¬ìš©ë˜ì—ˆë‹¤ë©´):
                    <div class="math-block">$$\sum_{i \in C} x_{i0k} \le 1, \quad \forall k \in K$$</div>
                     (ë§Œì•½ ì°¨ëŸ‰ $k$ê°€ ì‚¬ìš©ëœë‹¤ë©´($y_k=1$), ì¢Œë³€ì€ 1ì´ ë©ë‹ˆë‹¤.)
                </li>
                <li>
                    ê²½ë¡œ ì—°ì†ì„± (íë¦„ ë³´ì¡´): ì°¨ëŸ‰ì´ ì–´ë–¤ ê³ ê° ë…¸ë“œ $h$ì— ë„ì°©í–ˆë‹¤ë©´, ë°˜ë“œì‹œ ê·¸ ë…¸ë“œì—ì„œ ë‹¤ë¥¸ ë…¸ë“œë¡œ ì¶œë°œí•´ì•¼ í•©ë‹ˆë‹¤.
                    <div class="math-block">$$\sum_{j \in V, j \ne h} x_{jhk} - \sum_{j \in V, j \ne h} x_{hjk} = 0, \quad \forall h \in C, \forall k \in K$$</div>
                </li>
                <li>
                    ë¶€ë¶„ ê²½ë¡œ ì œê±° ì œì•½ (Subtour Elimination Constraints - SECs): MTZ, GG, DFJ ë“± ë‹¤ì–‘í•œ í˜•íƒœê°€ ì¡´ì¬í•©ë‹ˆë‹¤. (ì˜ˆ: Miller-Tucker-Zemlin ì œì•½)
                    <p><small>ì´ ì œì•½ë“¤ì€ í•œ ì°¨ëŸ‰ì´ ì°¨ê³ ì§€ë¥¼ ê±°ì¹˜ì§€ ì•Šê³  ê³ ê°ë“¤ ì‚¬ì´ë§Œì„ ìˆœíšŒí•˜ëŠ” ì‘ì€ ë…ë¦½ëœ ê²½ë¡œ(subtour)ë¥¼ í˜•ì„±í•˜ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤. ìƒì„¸ ìˆ˜ì‹ì€ ë³µì¡í•˜ì—¬ ì—¬ê¸°ì„œëŠ” ìƒëµí•©ë‹ˆë‹¤.</small></p>
                </li>
                <li>
                    (CVRPì˜ ê²½ìš°) ê° ì°¨ëŸ‰ ê²½ë¡œì˜ ì´ ìˆ˜ìš”ëŸ‰ì€ ì°¨ëŸ‰ ìš©ëŸ‰($Q_k$)ì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                    <p><strong>ì¶”ê°€ ë³€ìˆ˜:</strong> $q_i$ (ê³ ê° $i$ì˜ ìˆ˜ìš”ëŸ‰)</p>
                    <div class="math-block">$$\sum_{i \in C} q_i \sum_{j \in V, j \ne i} x_{ijk} \le Q_k, \quad \forall k \in K$$</div>
                    (ìœ„ ìˆ˜ì‹ì€ $x_{ijk}$ê°€ ê³ ê° ë°©ë¬¸ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚¼ ë•Œì˜ í•œ ì˜ˆì‹œì´ë©°, ì‹¤ì œ CVRP ëª¨ë¸ì—ì„œëŠ” $u_{ik}$ (ì°¨ëŸ‰ $k$ê°€ ê³ ê° $i$ë¥¼ ë°©ë¬¸ ì‹œ ëˆ„ì  ìˆ˜ìš”ëŸ‰) ê°™ì€ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë” ì •êµí•˜ê²Œ í‘œí˜„ë©ë‹ˆë‹¤.)
                </li>
                <li>
                    (VRPTWì˜ ê²½ìš°) ê° ê³ ê° ë°©ë¬¸ì€ ì§€ì •ëœ ì‹œê°„ ì°½ $[e_i, l_i]$ ë‚´ì— ì´ë£¨ì–´ì ¸ì•¼ í•˜ë©°, ì´ë™ ì‹œê°„($t_{ij}$) ë° ì„œë¹„ìŠ¤ ì‹œê°„($s_i$)ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. (ì´ì „ "ê³ ê° ë§Œì¡±ë„ í–¥ìƒ" ì„¹ì…˜ì˜ ì‹œê°„ ì°½ ì œì•½ì‹ ì°¸ì¡°)
                </li>
            </ul>
        </li>
    </ul>
    <p>ì´ëŸ¬í•œ ëª¨ë¸ì€ OR-Toolsì˜ Routing Libraryì™€ ê°™ì€ ì „ë¬¸ ì†”ë²„ë¥¼ í†µí•´ í•´ë¥¼ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>


    <h4>ğŸ¯ ëª©í‘œ ë° ê´€ë ¨ ì œì•½ì‹/ëª©ì í•¨ìˆ˜</h4>

    <div class="objective-section">
        <h3>1. ì´ ìš´í–‰ ê±°ë¦¬ ìµœì†Œí™”</h3>
        <p><strong>ëª©ì í•¨ìˆ˜:</strong></p>
        <div class="math-block">
            $$\min \sum_{k \in K} \sum_{(i,j) \in E} d_{ij} \cdot x_{ijk}$$
        </div>
        <p>&rarr; ì°¨ëŸ‰ì´ ì´ë™í•œ ì´ ê±°ë¦¬ë¥¼ ìµœì†Œí™”í•©ë‹ˆë‹¤.</p>
    </div>

    <div class="objective-section">
        <h3>2. ì´ ìš´í–‰ ì‹œê°„ ìµœì†Œí™”</h3>
        <p><strong>ëª©ì í•¨ìˆ˜ (ì´ë™ ì‹œê°„ ê¸°ì¤€):</strong></p>
        <div class="math-block">
            $$\min \sum_{k \in K} \sum_{(i,j) \in E} t_{ij} \cdot x_{ijk}$$
        </div>
        <p>ë˜ëŠ”, ê° ì°¨ëŸ‰ì˜ ë§ˆì§€ë§‰ ê³ ê° ì„œë¹„ìŠ¤ ì™„ë£Œ ì‹œê°„ (ë˜ëŠ” ì°¨ê³ ì§€ ë³µê·€ ì‹œê°„) ì¤‘ ê°€ì¥ ëŠ¦ì€ ì‹œê°„ì„ ìµœì†Œí™”:</p>
        <p><strong>ì¶”ê°€ ë³€ìˆ˜:</strong> $T^{end}_k$ (ì°¨ëŸ‰ $k$ì˜ ìš´í–‰ ì¢…ë£Œ ì‹œê°„)</p>
        <p><strong>ëª©ì í•¨ìˆ˜:</strong></p>
        <div class="math-block">
            $$\min (\max_{k \in K} T^{end}_k)$$
        </div>
        <p>(ìœ„ ëª©í‘œëŠ” ì„ í˜•ìœ¼ë¡œ ë³€í™˜ ê°€ëŠ¥: $Z \ge T^{end}_k \quad \forall k \in K$ ì´ê³ , $\min Z$)</p>
    </div>

    <div class="objective-section">
        <h3>3. ì‚¬ìš© ì°¨ëŸ‰ ìˆ˜ ìµœì†Œí™”</h3>
        <p><strong>ì¶”ê°€ ë³€ìˆ˜:</strong></p>
        <div class="math-block">
        $$y_k = \begin{cases} 1 & \text{if vehicle } k \text{ is used} \\ 0 & \text{otherwise} \end{cases}$$
        </div>
        <p><strong>ëª©ì í•¨ìˆ˜:</strong></p>
        <div class="math-block">
            $$\min \sum_{k \in K} y_k$$
        </div>
        <p><strong>ê´€ë ¨ ì œì•½ì‹ (ì°¨ëŸ‰ ì‚¬ìš© ì—¬ë¶€ ì—°ê²°):</strong></p>
        <div class="math-block">
            $$\sum_{i \in V} \sum_{j \in V, j \ne i} x_{ijk} \leq M \cdot y_k \quad \forall k \in K$$
        </div>
        <p>&rarr; ì°¨ëŸ‰ $k$ê°€ ì–´ë–¤ ê²½ë¡œë¼ë„ ìš´í–‰í•˜ë©´ ($x_{ijk}$ ì¤‘ í•˜ë‚˜ë¼ë„ 1ì´ë©´) $y_k$ëŠ” 1ì´ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. (ì—¬ê¸°ì„œ $M$ì€ ì¶©ë¶„íˆ í° ìƒìˆ˜, ì˜ˆë¥¼ ë“¤ì–´ í•œ ì°¨ëŸ‰ì´ ë°©ë¬¸í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ë…¸ë“œ ìˆ˜)</p>
    </div>

    <div class="objective-section">
        <h3>4. ìš´ì†¡ ë¹„ìš© ìµœì†Œí™” (ê±°ë¦¬, ì‹œê°„, ì°¨ëŸ‰ ê³ ì •ë¹„ ë“± ê°€ì¤‘í•©)</h3>
        <p><strong>ëª©ì í•¨ìˆ˜ ì˜ˆì‹œ (ì¢…í•© ë¹„ìš©):</strong></p>
        <div class="math-block">
            $$\min \left( \sum_{k \in K} \sum_{i \in V} \sum_{j \in V, j \ne i} ( c_d \cdot d_{ij} + c_t \cdot t_{ij} ) \cdot x_{ijk} + \sum_{k \in K} c_f \cdot y_k \right)$$
        </div>
        <p>ì—¬ê¸°ì„œ,</p>
        <ul>
            <li>$c_d$: ë‹¨ìœ„ ê±°ë¦¬ë‹¹ ë¹„ìš©</li>
            <li>$c_t$: ë‹¨ìœ„ ì‹œê°„ë‹¹ ë¹„ìš©</li>
            <li>$c_f$: ì°¨ëŸ‰ 1ëŒ€ë‹¹ ê³ ì • ìš´ì˜ ë¹„ìš© (ì°¨ëŸ‰ ì‚¬ìš© ì‹œ ë°œìƒ)</li>
        </ul>
    </div>

    <div class="objective-section">
        <h3>5. ê³ ê° ë§Œì¡±ë„ í–¥ìƒ (ì‹œê°„ ì°½ ì œì•½ ê³ ë ¤)</h3>
        <p><strong>ì‹œê°„ ì°½ ì œì•½ì‹ (Time Window Constraints):</strong></p>
        <p>$s_i$: ê³ ê° $i$ì—ì„œì˜ ì„œë¹„ìŠ¤ ì œê³µ ì‹œê°„ (ì˜ˆ: í•˜ì—­ ì‹œê°„)</p>
        <p>ì°¨ëŸ‰ $k$ê°€ ê³ ê° $i$ë¥¼ ë°©ë¬¸ í›„ $j$ë¡œ ì´ë™í•˜ëŠ” ê²½ìš° ($x_{ijk}=1$):</p>
        <div class="math-block">
            $$T_j \ge T_i + s_i + t_{ij} \quad (\text{if } x_{ijk}=1)$$
        </div>
        <p>(ì„ í˜•ìœ¼ë¡œ í‘œí˜„: $T_j \ge T_i + s_i + t_{ij} - M \cdot (1 - x_{ijk}) \quad \forall i, j \in C, k \in K$)</p>
        <p>ê° ê³ ê°ì˜ ì„œë¹„ìŠ¤ ì‹œì‘ ì‹œê°„ì€ ì‹œê°„ ì°½ ë‚´ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤:</p>
        <div class="math-block">
            $$e_i \leq T_i \leq l_i \quad \forall i \in C$$
        </div>
        <p><strong>ëª©í‘œí•¨ìˆ˜ (ì˜ˆ: ì´ ì§€ì—° ì‹œê°„ ìµœì†Œí™”):</strong></p>
        <p>ì§€ì—°(Lateness) ë³€ìˆ˜ $L_i$ ì •ì˜: $L_i \ge T_i - l_i$ ì´ê³  $L_i \ge 0$.</p>
        <div class="math-block">
            $$\min \sum_{i \in C} L_i$$
        </div>
        <p>ë˜ëŠ”, ì¼ì° ë„ì°©í•˜ëŠ” ê²ƒì— ëŒ€í•œ í˜ë„í‹°(Earliness) $E_i$ ($E_i \ge e_i - T_i, E_i \ge 0$)ë„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
    </div>

    <hr>

    <h2>âœ… ì¢…í•© ì •ë¦¬</h2>
    <div class="table-responsive">
        <table class="summary-table">
            <thead>
                <tr>
                    <th>ëª©í‘œ</th>
                    <th>ìˆ˜ì‹ (ëª©ì í•¨ìˆ˜ ë˜ëŠ” ì£¼ìš” ì œì•½ì‹)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>ì´ ìš´í–‰ ê±°ë¦¬ ìµœì†Œí™”</td>
                    <td><div class="math-block">$$\min \sum_{k,i,j} d_{ij} x_{ijk}$$</div></td>
                </tr>
                <tr>
                    <td>ì´ ìš´í–‰ ì‹œê°„ ìµœì†Œí™”</td>
                    <td><div class="math-block">$$\min \sum_{k,i,j} t_{ij} x_{ijk}$$</div></td>
                </tr>
                <tr>
                    <td>ì‚¬ìš© ì°¨ëŸ‰ ìˆ˜ ìµœì†Œí™”</td>
                    <td><div class="math-block">$$\min \sum_{k} y_k$$</div> <div class="math-block">$$\sum_{i,j} x_{ijk} \leq M y_k$$</div></td>
                </tr>
                <tr>
                    <td>ìš´ì†¡ ë¹„ìš© ìµœì†Œí™”</td>
                    <td><div class="math-block">$$\min \left( \sum_{k,i,j} (c_d d_{ij} + c_t t_{ij}) x_{ijk} + \sum_{k} c_f y_k \right)$$</div></td>
                </tr>
                <tr>
                    <td>ê³ ê° ë§Œì¡±ë„ í–¥ìƒ (ì‹œê°„ ì°½)</td>
                    <td>
                        <div class="math-block">$$T_j \ge T_i + s_i + t_{ij} - M(1-x_{ijk})$$</div>
                        <div class="math-block">$$e_i \leq T_i \leq l_i$$</div>
                        <p class="mt-2">ëª©í‘œ ì˜ˆ: <span class="math-block">$$\min \sum_{i} L_i \quad (L_i \ge T_i - l_i, L_i \ge 0)$$</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


{% endblock %}

{% block scripts %}
{# MathJax ë¡œë“œ (base.htmlì— ì´ë¯¸ Chart.js ë“±ì´ ìˆë‹¤ë©´ ê·¸ ì´í›„ì— ë¡œë“œí•˜ëŠ” ê²ƒì´ ì¢‹ìŒ) #}
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log("VRP Model Definition page script loaded.");
        if (typeof MathJax !== 'undefined' && MathJax.typeset) {
            // í˜ì´ì§€ ë¡œë“œ í›„ MathJaxê°€ ìˆ˜ì‹ì„ ë Œë”ë§í•˜ë„ë¡ ëª…ì‹œì  í˜¸ì¶œ (í•„ìš”í•œ ê²½ìš°)
            // MathJax.typesetPromise(); // ë˜ëŠ” MathJax.typeset();
        }
    });
</script>
{% endblock %}